---
title: "Cross-check data"
author: "Max Lindmark & Federico Mailoi"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output:
  html_document:
    df_print: paged
  pdf_document: default
editor_options: 
  chunk_output_type: console
  markdown: 
    wrap: 72
---

```{r setup, include = FALSE, cache=FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.width = 12,
  fig.asp = 0.618,
  fig.align ='center'
)
```

## Read data

```{r}
dat=read.csv2("../data/benthic_data_complete.csv",sep=',',row.names = 1)
```

## Wide format

The wide format is convenient for Hmsc, GLLVM, and Vegan although is not *tidy*.
To have a proper wide format we first need to have all abundances/biomass. Either we impute back and forth from abu to biomass by taking the average per taxonomic group, we remove missing data,  or we just use presence-absence data for now.  
We create a list of dataframes. [[1]] will have the long format. [[2]] will be presence-absence data in the wide format. [[3]] abundance wide format. [[4]] biomass wide format.

```{r}
data=list()
data[[1]]=dat
```

We first create the presence absence data wide


```{r}
# dat.wide=tidyr::pivot_wider(dat, id_cols = c('year','month','day','lon','lat','depth','prov_nr','provID','SubDiv'), names_from = 'species_group',values_from = 'abundance')
```



